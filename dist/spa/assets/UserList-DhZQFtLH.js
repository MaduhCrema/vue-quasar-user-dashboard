import{Q as Ne,u as Yt,b as Jt,R as sn,g as pt,v as cn,c as El,d as dn,a as Fe,e as fn,f as vn}from"./QBtn-BSvwgkTl.js";import{v as se,w as f,x as v,B as ve,D as mn,y as $,I as ee,ae as gn,af as Zt,ag as el,ah as Bl,C as Re,F as xe,A as tl,G as gt,V as Pe,S as mt,Q as rl,ai as Bt,M as hn,aj as sl,_ as bn,ak as at,al as Sn,O as ll,R as yn,am as Wt,an as dt,ao as wn,ap as Cn,aq as xn,T as lt,ar as nt,as as cl,at as Ut,au as dl,av as qn,aw as kn,L as _n,$ as pn,a8 as Vn,ad as xt,a4 as re,a2 as Be,a1 as Pn,a6 as Tn,W as En}from"./index-_EMjIBLd.js";import{h as Te,a as Bn,c as Ft,b as Fn,d as Rn}from"./render-B7E4dgpy.js";import{u as Ue,a as Ke}from"./use-dark-DV050NTM.js";import{s as Fl,n as An,h as Rl,c as Mn,k as On,u as Al,a as Ml,b as Ol,d as $l,e as $n,f as Ln,o as fl,l as zn,m as Hn,Q as In}from"./QItem-BXutCyJ_.js";import{u as Ll,a as nl,b as zl,c as Hl,r as vl,d as Dn,e as Il,f as Dl,g as Nn,h as ml,i as jn,j as Qn,Q as qt}from"./QInput-B-5MRCXU.js";import{Q as Wn}from"./QCard-BX2NmyjJ.js";const gl=se({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:l}){const t=ve(),a=f(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return v("td",{class:a.value},Te(l.default));const i=t.vnode.key,o=(e.props.colsMap!==void 0?e.props.colsMap[i]:null)||e.props.col;if(o===void 0)return;const{row:r}=e.props;return v("td",{class:a.value+o.__tdClass(r),style:o.__tdStyle(r)},Te(l.default))}}}),Un=se({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:l,emit:t}){const a=ve(),{proxy:{$q:i}}=a,o=r=>{t("click",r)};return()=>{if(e.props===void 0)return v("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:o},Te(l.default));let r,s;const c=a.vnode.key;if(c){if(r=e.props.colsMap[c],r===void 0)return}else r=e.props.col;if(r.sortable===!0){const u=r.align==="right"?"unshift":"push";s=Bn(l.default,[]),s[u](v(Ne,{class:r.__iconClass,name:i.iconSet.table.arrowUp}))}else s=Te(l.default);const h={class:r.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:r.headerStyle,onClick:u=>{r.sortable===!0&&e.props.sort(r),o(u)}};return v("th",h,s)}}}),Kn={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},It={xs:2,sm:4,md:8,lg:16,xl:24},Gn=se({name:"QSeparator",props:{...Ue,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const l=ve(),t=Ke(e,l.proxy.$q),a=f(()=>e.vertical===!0?"vertical":"horizontal"),i=f(()=>` q-separator--${a.value}`),o=f(()=>e.inset!==!1?`${i.value}-${Kn[e.inset]}`:""),r=f(()=>`q-separator${i.value}${o.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(t.value===!0?" q-separator--dark":"")),s=f(()=>{const c={};if(e.size!==void 0&&(c[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const h=e.spaced===!0?`${It.md}px`:e.spaced in It?`${It[e.spaced]}px`:e.spaced,u=e.vertical===!0?["Left","Right"]:["Top","Bottom"];c[`margin${u[0]}`]=c[`margin${u[1]}`]=h}return c});return()=>v("hr",{class:r.value,style:s.value,"aria-orientation":a.value})}}),Xn=["horizontal","vertical","cell","none"],Yn=se({name:"QMarkupTable",props:{...Ue,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>Xn.includes(e)}},setup(e,{slots:l}){const t=ve(),a=Ke(e,t.proxy.$q),i=f(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(a.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>v("div",{class:i.value},[v("table",{class:"q-table"},Te(l.default))])}});function Nl(e,l){return v("div",e,[v("table",{class:"q-table"},l)])}let Vt=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const l=document.createElement("div");Object.assign(l.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(l),e.scrollLeft=-1e3,Vt=e.scrollLeft>=0,e.remove()}const Ve=1e3,Jn=["start","center","end","start-force","center-force","end-force"],jl=Array.prototype.filter,Zn=window.getComputedStyle(document.body).overflowAnchor===void 0?mn:function(e,l){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const t=e.children||[];jl.call(t,i=>i.dataset&&i.dataset.qVsAnchor!==void 0).forEach(i=>{delete i.dataset.qVsAnchor});const a=t[l];a?.dataset&&(a.dataset.qVsAnchor="")}))};function ot(e,l){return e+l}function Dt(e,l,t,a,i,o,r,s){const c=e===window?document.scrollingElement||document.documentElement:e,h=i===!0?"offsetWidth":"offsetHeight",u={scrollStart:0,scrollViewSize:-r-s,scrollMaxSize:0,offsetStart:-r,offsetEnd:-s};if(i===!0?(e===window?(u.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,u.scrollViewSize+=document.documentElement.clientWidth):(u.scrollStart=c.scrollLeft,u.scrollViewSize+=c.clientWidth),u.scrollMaxSize=c.scrollWidth,o===!0&&(u.scrollStart=(Vt===!0?u.scrollMaxSize-u.scrollViewSize:0)-u.scrollStart)):(e===window?(u.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,u.scrollViewSize+=document.documentElement.clientHeight):(u.scrollStart=c.scrollTop,u.scrollViewSize+=c.clientHeight),u.scrollMaxSize=c.scrollHeight),t!==null)for(let S=t.previousElementSibling;S!==null;S=S.previousElementSibling)S.classList.contains("q-virtual-scroll--skip")===!1&&(u.offsetStart+=S[h]);if(a!==null)for(let S=a.nextElementSibling;S!==null;S=S.nextElementSibling)S.classList.contains("q-virtual-scroll--skip")===!1&&(u.offsetEnd+=S[h]);if(l!==e){const S=c.getBoundingClientRect(),w=l.getBoundingClientRect();i===!0?(u.offsetStart+=w.left-S.left,u.offsetEnd-=w.width):(u.offsetStart+=w.top-S.top,u.offsetEnd-=w.height),e!==window&&(u.offsetStart+=u.scrollStart),u.offsetEnd+=u.scrollMaxSize-u.offsetStart}return u}function hl(e,l,t,a){l==="end"&&(l=(e===window?document.body:e)[t===!0?"scrollWidth":"scrollHeight"]),e===window?t===!0?(a===!0&&(l=(Vt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-l),window.scrollTo(l,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,l):t===!0?(a===!0&&(l=(Vt===!0?e.scrollWidth-e.offsetWidth:0)-l),e.scrollLeft=l):e.scrollTop=l}function ft(e,l,t,a){if(t>=a)return 0;const i=l.length,o=Math.floor(t/Ve),r=Math.floor((a-1)/Ve)+1;let s=e.slice(o,r).reduce(ot,0);return t%Ve!==0&&(s-=l.slice(o*Ve,t).reduce(ot,0)),a%Ve!==0&&a!==i&&(s-=l.slice(a,r*Ve).reduce(ot,0)),s}const Ql={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Wl=Object.keys(Ql),Kt={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Ql};function Ul({virtualScrollLength:e,getVirtualScrollTarget:l,getVirtualScrollEl:t,virtualScrollItemSizeComputed:a}){const i=ve(),{props:o,emit:r,proxy:s}=i,{$q:c}=s;let h,u,S,w=[],b;const y=$(0),T=$(0),g=$({}),P=$(null),A=$(null),M=$(null),E=$({from:0,to:0}),L=f(()=>o.tableColspan!==void 0?o.tableColspan:100);a===void 0&&(a=f(()=>o.virtualScrollItemSize));const N=f(()=>a.value+";"+o.virtualScrollHorizontal),j=f(()=>N.value+";"+o.virtualScrollSliceRatioBefore+";"+o.virtualScrollSliceRatioAfter);ee(j,()=>{ie()}),ee(N,Q);function Q(){be(u,!0)}function le(m){be(m===void 0?u:m)}function J(m,x){const O=l();if(O==null||O.nodeType===8)return;const I=Dt(O,t(),P.value,A.value,o.virtualScrollHorizontal,c.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd);S!==I.scrollViewSize&&ie(I.scrollViewSize),B(O,I,Math.min(e.value-1,Math.max(0,parseInt(m,10)||0)),0,Jn.indexOf(x)!==-1?x:u!==-1&&m>u?"end":"start")}function oe(){const m=l();if(m==null||m.nodeType===8)return;const x=Dt(m,t(),P.value,A.value,o.virtualScrollHorizontal,c.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd),O=e.value-1,I=x.scrollMaxSize-x.offsetStart-x.offsetEnd-T.value;if(h===x.scrollStart)return;if(x.scrollMaxSize<=0){B(m,x,0,0);return}S!==x.scrollViewSize&&ie(x.scrollViewSize),te(E.value.from);const U=Math.floor(x.scrollMaxSize-Math.max(x.scrollViewSize,x.offsetEnd)-Math.min(b[O],x.scrollViewSize/2));if(U>0&&Math.ceil(x.scrollStart)>=U){B(m,x,O,x.scrollMaxSize-x.offsetEnd-w.reduce(ot,0));return}let q=0,V=x.scrollStart-x.offsetStart,D=V;if(V<=I&&V+x.scrollViewSize>=y.value)V-=y.value,q=E.value.from,D=V;else for(let C=0;V>=w[C]&&q<O;C++)V-=w[C],q+=Ve;for(;V>0&&q<O;)V-=b[q],V>-x.scrollViewSize?(q++,D=V):D=b[q]+V;B(m,x,q,D)}function B(m,x,O,I,U){const q=typeof U=="string"&&U.indexOf("-force")!==-1,V=q===!0?U.replace("-force",""):U,D=V!==void 0?V:"start";let C=Math.max(0,O-g.value[D]),G=C+g.value.total;G>e.value&&(G=e.value,C=Math.max(0,G-g.value.total)),h=x.scrollStart;const de=C!==E.value.from||G!==E.value.to;if(de===!1&&V===void 0){ge(O);return}const{activeElement:Ae}=document,he=M.value;de===!0&&he!==null&&he!==Ae&&he.contains(Ae)===!0&&(he.addEventListener("focusout",me),setTimeout(()=>{he?.removeEventListener("focusout",me)})),Zn(he,O-C);const Me=V!==void 0?b.slice(C,O).reduce(ot,0):0;if(de===!0){const qe=G>=E.value.from&&C<=E.value.to?E.value.to:G;E.value={from:C,to:qe},y.value=ft(w,b,0,C),T.value=ft(w,b,G,e.value),requestAnimationFrame(()=>{E.value.to!==G&&h===x.scrollStart&&(E.value={from:E.value.from,to:G},T.value=ft(w,b,G,e.value))})}requestAnimationFrame(()=>{if(h!==x.scrollStart)return;de===!0&&te(C);const qe=b.slice(C,O).reduce(ot,0),ke=qe+x.offsetStart+y.value,Oe=ke+b[O];let Le=ke+I;if(V!==void 0){const rt=qe-Me,ze=x.scrollStart+rt;Le=q!==!0&&ze<ke&&Oe<ze+x.scrollViewSize?ze:V==="end"?Oe-x.scrollViewSize:ke-(V==="start"?0:Math.round((x.scrollViewSize-b[O])/2))}h=Le,hl(m,Le,o.virtualScrollHorizontal,c.lang.rtl),ge(O)})}function te(m){const x=M.value;if(x){const O=jl.call(x.children,C=>C.classList&&C.classList.contains("q-virtual-scroll--skip")===!1),I=O.length,U=o.virtualScrollHorizontal===!0?C=>C.getBoundingClientRect().width:C=>C.offsetHeight;let q=m,V,D;for(let C=0;C<I;){for(V=U(O[C]),C++;C<I&&O[C].classList.contains("q-virtual-scroll--with-prev")===!0;)V+=U(O[C]),C++;D=V-b[q],D!==0&&(b[q]+=D,w[Math.floor(q/Ve)]+=D),q++}}}function me(){M.value?.focus()}function be(m,x){const O=1*a.value;(x===!0||Array.isArray(b)===!1)&&(b=[]);const I=b.length;b.length=e.value;for(let q=e.value-1;q>=I;q--)b[q]=O;const U=Math.floor((e.value-1)/Ve);w=[];for(let q=0;q<=U;q++){let V=0;const D=Math.min((q+1)*Ve,e.value);for(let C=q*Ve;C<D;C++)V+=b[C];w.push(V)}u=-1,h=void 0,y.value=ft(w,b,0,E.value.from),T.value=ft(w,b,E.value.to,e.value),m>=0?(te(E.value.from),xe(()=>{J(m)})):ae()}function ie(m){if(m===void 0&&typeof window<"u"){const V=l();V!=null&&V.nodeType!==8&&(m=Dt(V,t(),P.value,A.value,o.virtualScrollHorizontal,c.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd).scrollViewSize)}S=m;const x=parseFloat(o.virtualScrollSliceRatioBefore)||0,O=parseFloat(o.virtualScrollSliceRatioAfter)||0,I=1+x+O,U=m===void 0||m<=0?1:Math.ceil(m/a.value),q=Math.max(1,U,Math.ceil((o.virtualScrollSliceSize>0?o.virtualScrollSliceSize:10)/I));g.value={total:Math.ceil(q*I),start:Math.ceil(q*x),center:Math.ceil(q*(.5+x)),end:Math.ceil(q*(1+x)),view:U}}function ce(m,x){const O=o.virtualScrollHorizontal===!0?"width":"height",I={["--q-virtual-scroll-item-"+O]:a.value+"px"};return[m==="tbody"?v(m,{class:"q-virtual-scroll__padding",key:"before",ref:P},[v("tr",[v("td",{style:{[O]:`${y.value}px`,...I},colspan:L.value})])]):v(m,{class:"q-virtual-scroll__padding",key:"before",ref:P,style:{[O]:`${y.value}px`,...I}}),v(m,{class:"q-virtual-scroll__content",key:"content",ref:M,tabindex:-1},x.flat()),m==="tbody"?v(m,{class:"q-virtual-scroll__padding",key:"after",ref:A},[v("tr",[v("td",{style:{[O]:`${T.value}px`,...I},colspan:L.value})])]):v(m,{class:"q-virtual-scroll__padding",key:"after",ref:A,style:{[O]:`${T.value}px`,...I}})]}function ge(m){u!==m&&(o.onVirtualScroll!==void 0&&r("virtualScroll",{index:m,from:E.value.from,to:E.value.to-1,direction:m<u?"decrease":"increase",ref:s}),u=m)}ie();const ae=gn(oe,c.platform.is.ios===!0?120:35);Zt(()=>{ie()});let we=!1;return el(()=>{we=!0}),Bl(()=>{if(we!==!0)return;const m=l();h!==void 0&&m!==void 0&&m!==null&&m.nodeType!==8?hl(m,h,o.virtualScrollHorizontal,c.lang.rtl):J(u)}),Re(()=>{ae.cancel()}),Object.assign(s,{scrollTo:J,reset:Q,refresh:le}),{virtualScrollSliceRange:E,virtualScrollSliceSizeComputed:g,setVirtualScrollSize:ie,onVirtualScrollEvt:ae,localResetVirtualScroll:be,padVirtualScroll:ce,scrollTo:J,reset:Q,refresh:le}}const ea={list:An,table:Yn},ta=["list","table","__qtable"],la=se({name:"QVirtualScroll",props:{...Kt,type:{type:String,default:"list",validator:e=>ta.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:Fl},setup(e,{slots:l,attrs:t}){let a;const i=$(null),o=f(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:r,localResetVirtualScroll:s,padVirtualScroll:c,onVirtualScrollEvt:h}=Ul({virtualScrollLength:o,getVirtualScrollTarget:y,getVirtualScrollEl:b}),u=f(()=>{if(o.value===0)return[];const A=(M,E)=>({index:r.value.from+E,item:M});return e.itemsFn===void 0?e.items.slice(r.value.from,r.value.to).map(A):e.itemsFn(r.value.from,r.value.to-r.value.from).map(A)}),S=f(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),w=f(()=>e.scrollTarget!==void 0?{}:{tabindex:0});ee(o,()=>{s()}),ee(()=>e.scrollTarget,()=>{g(),T()});function b(){return i.value.$el||i.value}function y(){return a}function T(){a=Rl(b(),e.scrollTarget),a.addEventListener("scroll",h,gt.passive)}function g(){a!==void 0&&(a.removeEventListener("scroll",h,gt.passive),a=void 0)}function P(){let A=c(e.type==="list"?"div":"tbody",u.value.map(l.default));return l.before!==void 0&&(A=l.before().concat(A)),Ft(l.after,A)}return Zt(()=>{s()}),tl(()=>{T()}),Bl(()=>{T()}),el(()=>{g()}),Re(()=>{g()}),()=>{if(l.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?Nl({ref:i,class:"q-table__middle "+S.value},P()):v(ea[e.type],{...t,ref:i,class:[t.class,S.value],...w.value},P)}}}),na=se({name:"QField",inheritAttrs:!1,props:{...nl,tag:{type:String,default:"label"}},emits:Ll,setup(){return zl(Hl({tagProp:!0}))}}),aa={xs:8,sm:10,md:14,lg:20,xl:24},oa=se({name:"QChip",props:{...Ue,...Yt,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:l,emit:t}){const{proxy:{$q:a}}=ve(),i=Ke(e,a),o=Jt(e,aa),r=f(()=>e.selected===!0||e.icon!==void 0),s=f(()=>e.selected===!0?e.iconSelected||a.iconSet.chip.selected:e.icon),c=f(()=>e.iconRemove||a.iconSet.chip.remove),h=f(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),u=f(()=>{const g=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(g?` text-${g} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(h.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(i.value===!0?" q-chip--dark q-dark":"")}),S=f(()=>{const g=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},P={...g,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||a.lang.label.remove};return{chip:g,remove:P}});function w(g){g.keyCode===13&&b(g)}function b(g){e.disable||(t("update:selected",!e.selected),t("click",g))}function y(g){(g.keyCode===void 0||g.keyCode===13)&&(Pe(g),e.disable===!1&&(t("update:modelValue",!1),t("remove")))}function T(){const g=[];h.value===!0&&g.push(v("div",{class:"q-focus-helper"})),r.value===!0&&g.push(v(Ne,{class:"q-chip__icon q-chip__icon--left",name:s.value}));const P=e.label!==void 0?[v("div",{class:"ellipsis"},[e.label])]:void 0;return g.push(v("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Rn(l.default,P))),e.iconRight&&g.push(v(Ne,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&g.push(v(Ne,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:c.value,...S.value.remove,onClick:y,onKeyup:y})),g}return()=>{if(e.modelValue===!1)return;const g={class:u.value,style:o.value};return h.value===!0&&Object.assign(g,S.value.chip,{onClick:b,onKeyup:w}),Fn("div",g,T(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[sn,e.ripple]])}}}),ia={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},ua={...ia,contextMenu:Boolean};function ra({showing:e,avoidEmit:l,configureAnchorEl:t}){const{props:a,proxy:i,emit:o}=ve(),r=$(null);let s=null;function c(b){return r.value===null?!1:b===void 0||b.touches===void 0||b.touches.length<=1}const h={};t===void 0&&(Object.assign(h,{hide(b){i.hide(b)},toggle(b){i.toggle(b),b.qAnchorHandled=!0},toggleKey(b){Bt(b,13)===!0&&h.toggle(b)},contextClick(b){i.hide(b),mt(b),xe(()=>{i.show(b),b.qAnchorHandled=!0})},prevent:mt,mobileTouch(b){if(h.mobileCleanup(b),c(b)!==!0)return;i.hide(b),r.value.classList.add("non-selectable");const y=b.target;rl(h,"anchor",[[y,"touchmove","mobileCleanup","passive"],[y,"touchend","mobileCleanup","passive"],[y,"touchcancel","mobileCleanup","passive"],[r.value,"contextmenu","prevent","notPassive"]]),s=setTimeout(()=>{s=null,i.show(b),b.qAnchorHandled=!0},300)},mobileCleanup(b){r.value.classList.remove("non-selectable"),s!==null&&(clearTimeout(s),s=null),e.value===!0&&b!==void 0&&Mn()}}),t=function(b=a.contextMenu){if(a.noParentEvent===!0||r.value===null)return;let y;b===!0?i.$q.platform.is.mobile===!0?y=[[r.value,"touchstart","mobileTouch","passive"]]:y=[[r.value,"mousedown","hide","passive"],[r.value,"contextmenu","contextClick","notPassive"]]:y=[[r.value,"click","toggle","passive"],[r.value,"keyup","toggleKey","passive"]],rl(h,"anchor",y)});function u(){hn(h,"anchor")}function S(b){for(r.value=b;r.value.classList.contains("q-anchor--skip");)r.value=r.value.parentNode;t()}function w(){if(a.target===!1||a.target===""||i.$el.parentNode===null)r.value=null;else if(a.target===!0)S(i.$el.parentNode);else{let b=a.target;if(typeof a.target=="string")try{b=document.querySelector(a.target)}catch{b=void 0}b!=null?(r.value=b.$el||b,t()):(r.value=null,console.error(`Anchor: target "${a.target}" not found`))}}return ee(()=>a.contextMenu,b=>{r.value!==null&&(u(),t(b))}),ee(()=>a.target,()=>{r.value!==null&&u(),w()}),ee(()=>a.noParentEvent,b=>{r.value!==null&&(b===!0?u():t())}),tl(()=>{w(),l!==!0&&a.modelValue===!0&&r.value===null&&o("update:modelValue",!1)}),Re(()=>{s!==null&&clearTimeout(s),u()}),{anchorEl:r,canShow:c,anchorEvents:h}}function sa(e,l){const t=$(null);let a;function i(s,c){const h=`${c!==void 0?"add":"remove"}EventListener`,u=c!==void 0?c:a;s!==window&&s[h]("scroll",u,gt.passive),window[h]("scroll",u,gt.passive),a=c}function o(){t.value!==null&&(i(t.value),t.value=null)}const r=ee(()=>e.noParentEvent,()=>{t.value!==null&&(o(),l())});return Re(r),{localScrollTarget:t,unconfigureScrollTarget:o,changeScrollEvent:i}}let ca=1,da=document.body;function fa(e,l){const t=document.createElement("div");if(t.id=l!==void 0?`q-portal--${l}--${ca++}`:e,sl.globalNodes!==void 0){const a=sl.globalNodes.class;a!==void 0&&(t.className=a)}return da.appendChild(t),t}function va(e){e.remove()}const it=[];function ma(e){return it.find(l=>l.contentEl!==null&&l.contentEl.contains(e))}function Kl(e,l){do{if(e.$options.name==="QMenu"){if(e.hide(l),e.$props.separateClosePopup===!0)return pt(e)}else if(e.__qPortal===!0){const t=pt(e);return t?.$options.name==="QPopupProxy"?(e.hide(l),t):e}e=pt(e)}while(e!=null)}function ga(e,l,t){for(;t!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(t--,e.$options.name==="QMenu"){e=Kl(e,l);continue}e.hide(l)}e=pt(e)}}const ha=se({name:"QPortal",setup(e,{slots:l}){return()=>l.default()}});function ba(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function Gl(e,l,t,a){const i=$(!1),o=$(!1);let r=null;const s={},c=a==="dialog"&&ba(e);function h(S){if(S===!0){vl(s),o.value=!0;return}o.value=!1,i.value===!1&&(c===!1&&r===null&&(r=fa(!1,a)),i.value=!0,it.push(e.proxy),Dn(s))}function u(S){if(o.value=!1,S!==!0)return;vl(s),i.value=!1;const w=it.indexOf(e.proxy);w!==-1&&it.splice(w,1),r!==null&&(va(r),r=null)}return bn(()=>{u(!0)}),e.proxy.__qPortal=!0,at(e.proxy,"contentEl",()=>l.value),{showPortal:h,hidePortal:u,portalIsActive:i,portalIsAccessible:o,renderPortal:()=>c===!0?t():i.value===!0?[v(Sn,{to:r},v(ha,t))]:void 0}}const Xl={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function Yl(e,l=()=>{},t=()=>{}){return{transitionProps:f(()=>{const a=`q-transition--${e.transitionShow||l()}`,i=`q-transition--${e.transitionHide||t()}`;return{appear:!0,enterFromClass:`${a}-enter-from`,enterActiveClass:`${a}-enter-active`,enterToClass:`${a}-enter-to`,leaveFromClass:`${i}-leave-from`,leaveActiveClass:`${i}-leave-active`,leaveToClass:`${i}-leave-to`}}),transitionStyle:f(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function Jl(){let e;const l=ve();function t(){e=void 0}return el(t),Re(t),{removeTick:t,registerTick(a){e=a,xe(()=>{e===a&&(cn(l)===!1&&e(),e=void 0)})}}}const je=[];let ut;function Sa(e){ut=e.keyCode===27}function ya(){ut===!0&&(ut=!1)}function wa(e){ut===!0&&(ut=!1,Bt(e,27)===!0&&je[je.length-1](e))}function Zl(e){window[e]("keydown",Sa),window[e]("blur",ya),window[e]("keyup",wa),ut=!1}function en(e){ll.is.desktop===!0&&(je.push(e),je.length===1&&Zl("addEventListener"))}function Pt(e){const l=je.indexOf(e);l!==-1&&(je.splice(l,1),je.length===0&&Zl("removeEventListener"))}const Qe=[];function tn(e){Qe[Qe.length-1](e)}function ln(e){ll.is.desktop===!0&&(Qe.push(e),Qe.length===1&&document.body.addEventListener("focusin",tn))}function Gt(e){const l=Qe.indexOf(e);l!==-1&&(Qe.splice(l,1),Qe.length===0&&document.body.removeEventListener("focusin",tn))}const{notPassiveCapture:Tt}=gt,We=[];function Et(e){const l=e.target;if(l===void 0||l.nodeType===8||l.classList.contains("no-pointer-events")===!0)return;let t=it.length-1;for(;t>=0;){const a=it[t].$;if(a.type.name==="QTooltip"){t--;continue}if(a.type.name!=="QDialog")break;if(a.props.seamless!==!0)return;t--}for(let a=We.length-1;a>=0;a--){const i=We[a];if((i.anchorEl.value===null||i.anchorEl.value.contains(l)===!1)&&(l===document.body||i.innerRef.value!==null&&i.innerRef.value.contains(l)===!1))e.qClickOutside=!0,i.onClickOutside(e);else return}}function Ca(e){We.push(e),We.length===1&&(document.addEventListener("mousedown",Et,Tt),document.addEventListener("touchstart",Et,Tt))}function bl(e){const l=We.findIndex(t=>t===e);l!==-1&&(We.splice(l,1),We.length===0&&(document.removeEventListener("mousedown",Et,Tt),document.removeEventListener("touchstart",Et,Tt)))}let Sl,yl;function wl(e){const l=e.split(" ");return l.length!==2?!1:["top","center","bottom"].includes(l[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(l[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function xa(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Xt={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Xt[`${e}#ltr`]=e,Xt[`${e}#rtl`]=e});function Cl(e,l){const t=e.split(" ");return{vertical:t[0],horizontal:Xt[`${t[1]}#${l===!0?"rtl":"ltr"}`]}}function qa(e,l){let{top:t,left:a,right:i,bottom:o,width:r,height:s}=e.getBoundingClientRect();return l!==void 0&&(t-=l[1],a-=l[0],o+=l[1],i+=l[0],r+=l[0],s+=l[1]),{top:t,bottom:o,height:s,left:a,right:i,width:r,middle:a+(i-a)/2,center:t+(o-t)/2}}function ka(e,l,t){let{top:a,left:i}=e.getBoundingClientRect();return a+=l.top,i+=l.left,t!==void 0&&(a+=t[1],i+=t[0]),{top:a,bottom:a+1,height:1,left:i,right:i+1,width:1,middle:i,center:a}}function _a(e,l){return{top:0,center:l/2,bottom:l,left:0,middle:e/2,right:e}}function xl(e,l,t,a){return{top:e[t.vertical]-l[a.vertical],left:e[t.horizontal]-l[a.horizontal]}}function nn(e,l=0){if(e.targetEl===null||e.anchorEl===null||l>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{nn(e,l+1)},10);return}const{targetEl:t,offset:a,anchorEl:i,anchorOrigin:o,selfOrigin:r,absoluteOffset:s,fit:c,cover:h,maxHeight:u,maxWidth:S}=e;if(ll.is.ios===!0&&window.visualViewport!==void 0){const N=document.body.style,{offsetLeft:j,offsetTop:Q}=window.visualViewport;j!==Sl&&(N.setProperty("--q-pe-left",j+"px"),Sl=j),Q!==yl&&(N.setProperty("--q-pe-top",Q+"px"),yl=Q)}const{scrollLeft:w,scrollTop:b}=t,y=s===void 0?qa(i,h===!0?[0,0]:a):ka(i,s,a);Object.assign(t.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:S,maxHeight:u,visibility:"visible"});const{offsetWidth:T,offsetHeight:g}=t,{elWidth:P,elHeight:A}=c===!0||h===!0?{elWidth:Math.max(y.width,T),elHeight:h===!0?Math.max(y.height,g):g}:{elWidth:T,elHeight:g};let M={maxWidth:S,maxHeight:u};(c===!0||h===!0)&&(M.minWidth=y.width+"px",h===!0&&(M.minHeight=y.height+"px")),Object.assign(t.style,M);const E=_a(P,A);let L=xl(y,E,o,r);if(s===void 0||a===void 0)Nt(L,y,E,o,r);else{const{top:N,left:j}=L;Nt(L,y,E,o,r);let Q=!1;if(L.top!==N){Q=!0;const le=2*a[1];y.center=y.top-=le,y.bottom-=le+2}if(L.left!==j){Q=!0;const le=2*a[0];y.middle=y.left-=le,y.right-=le+2}Q===!0&&(L=xl(y,E,o,r),Nt(L,y,E,o,r))}M={top:L.top+"px",left:L.left+"px"},L.maxHeight!==void 0&&(M.maxHeight=L.maxHeight+"px",y.height>L.maxHeight&&(M.minHeight=M.maxHeight)),L.maxWidth!==void 0&&(M.maxWidth=L.maxWidth+"px",y.width>L.maxWidth&&(M.minWidth=M.maxWidth)),Object.assign(t.style,M),t.scrollTop!==b&&(t.scrollTop=b),t.scrollLeft!==w&&(t.scrollLeft=w)}function Nt(e,l,t,a,i){const o=t.bottom,r=t.right,s=On(),c=window.innerHeight-s,h=document.body.clientWidth;if(e.top<0||e.top+o>c)if(i.vertical==="center")e.top=l[a.vertical]>c/2?Math.max(0,c-o):0,e.maxHeight=Math.min(o,c);else if(l[a.vertical]>c/2){const u=Math.min(c,a.vertical==="center"?l.center:a.vertical===i.vertical?l.bottom:l.top);e.maxHeight=Math.min(o,u),e.top=Math.max(0,u-o)}else e.top=Math.max(0,a.vertical==="center"?l.center:a.vertical===i.vertical?l.top:l.bottom),e.maxHeight=Math.min(o,c-e.top);if(e.left<0||e.left+r>h)if(e.maxWidth=Math.min(r,h),i.horizontal==="middle")e.left=l[a.horizontal]>h/2?Math.max(0,h-r):0;else if(l[a.horizontal]>h/2){const u=Math.min(h,a.horizontal==="middle"?l.middle:a.horizontal===i.horizontal?l.right:l.left);e.maxWidth=Math.min(r,u),e.left=Math.max(0,u-e.maxWidth)}else e.left=Math.max(0,a.horizontal==="middle"?l.middle:a.horizontal===i.horizontal?l.left:l.right),e.maxWidth=Math.min(r,h-e.left)}const pa=se({name:"QMenu",inheritAttrs:!1,props:{...ua,...Ml,...Ue,...Xl,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:wl},self:{type:String,validator:wl},offset:{type:Array,validator:xa},scrollTarget:Fl,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Al,"click","escapeKey"],setup(e,{slots:l,emit:t,attrs:a}){let i=null,o,r,s;const c=ve(),{proxy:h}=c,{$q:u}=h,S=$(null),w=$(!1),b=f(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),y=Ke(e,u),{registerTick:T,removeTick:g}=Jl(),{registerTimeout:P}=Ol(),{transitionProps:A,transitionStyle:M}=Yl(e),{localScrollTarget:E,changeScrollEvent:L,unconfigureScrollTarget:N}=sa(e,O),{anchorEl:j,canShow:Q}=ra({showing:w}),{hide:le}=$l({showing:w,canShow:Q,handleShow:we,handleHide:m,hideOnRouteChange:b,processOnMount:!0}),{showPortal:J,hidePortal:oe,renderPortal:B}=Gl(c,S,D,"menu"),te={anchorEl:j,innerRef:S,onClickOutside(C){if(e.persistent!==!0&&w.value===!0)return le(C),(C.type==="touchstart"||C.target.classList.contains("q-dialog__backdrop"))&&Pe(C),!0}},me=f(()=>Cl(e.anchor||(e.cover===!0?"center middle":"bottom start"),u.lang.rtl)),be=f(()=>e.cover===!0?me.value:Cl(e.self||"top start",u.lang.rtl)),ie=f(()=>(e.square===!0?" q-menu--square":"")+(y.value===!0?" q-menu--dark q-dark":"")),ce=f(()=>e.autoClose===!0?{onClick:I}:{}),ge=f(()=>w.value===!0&&e.persistent!==!0);ee(ge,C=>{C===!0?(en(q),Ca(te)):(Pt(q),bl(te))});function ae(){Il(()=>{let C=S.value;C&&C.contains(document.activeElement)!==!0&&(C=C.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||C.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||C.querySelector("[autofocus], [data-autofocus]")||C,C.focus({preventScroll:!0}))})}function we(C){if(i=e.noRefocus===!1?document.activeElement:null,ln(U),J(),O(),o=void 0,C!==void 0&&(e.touchPosition||e.contextMenu)){const G=yn(C);if(G.left!==void 0){const{top:de,left:Ae}=j.value.getBoundingClientRect();o={left:G.left-Ae,top:G.top-de}}}r===void 0&&(r=ee(()=>u.screen.width+"|"+u.screen.height+"|"+e.self+"|"+e.anchor+"|"+u.lang.rtl,V)),e.noFocus!==!0&&document.activeElement.blur(),T(()=>{V(),e.noFocus!==!0&&ae()}),P(()=>{u.platform.is.ios===!0&&(s=e.autoClose,S.value.click()),V(),J(!0),t("show",C)},e.transitionDuration)}function m(C){g(),oe(),x(!0),i!==null&&(C===void 0||C.qClickOutside!==!0)&&(((C?.type.indexOf("key")===0?i.closest('[tabindex]:not([tabindex^="-"])'):void 0)||i).focus(),i=null),P(()=>{oe(!0),t("hide",C)},e.transitionDuration)}function x(C){o=void 0,r!==void 0&&(r(),r=void 0),(C===!0||w.value===!0)&&(Gt(U),N(),bl(te),Pt(q)),C!==!0&&(i=null)}function O(){(j.value!==null||e.scrollTarget!==void 0)&&(E.value=Rl(j.value,e.scrollTarget),L(E.value,V))}function I(C){s!==!0?(Kl(h,C),t("click",C)):s=!1}function U(C){ge.value===!0&&e.noFocus!==!0&&El(S.value,C.target)!==!0&&ae()}function q(C){e.noEscDismiss!==!0&&(t("escapeKey"),le(C))}function V(){nn({targetEl:S.value,offset:e.offset,anchorEl:j.value,anchorOrigin:me.value,selfOrigin:be.value,absoluteOffset:o,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function D(){return v(Wt,A.value,()=>w.value===!0?v("div",{role:"menu",...a,ref:S,tabindex:-1,class:["q-menu q-position-engine scroll"+ie.value,a.class],style:[a.style,M.value],...ce.value},Te(l.default)):null)}return Re(x),Object.assign(h,{focus:ae,updatePosition:V}),B}});let kt=0;const Va={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},ql={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},an=se({name:"QDialog",inheritAttrs:!1,props:{...Ml,...Xl,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>["standard","top","bottom","left","right"].includes(e)}},emits:[...Al,"shake","click","escapeKey"],setup(e,{slots:l,emit:t,attrs:a}){const i=ve(),o=$(null),r=$(!1),s=$(!1);let c=null,h=null,u,S;const w=f(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:b}=Ln(),{registerTimeout:y}=Ol(),{registerTick:T,removeTick:g}=Jl(),{transitionProps:P,transitionStyle:A}=Yl(e,()=>ql[e.position][0],()=>ql[e.position][1]),M=f(()=>A.value+(e.backdropFilter!==void 0?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:"")),{showPortal:E,hidePortal:L,portalIsAccessible:N,renderPortal:j}=Gl(i,o,U,"dialog"),{hide:Q}=$l({showing:r,hideOnRouteChange:w,handleShow:be,handleHide:ie,processOnMount:!0}),{addToHistory:le,removeFromHistory:J}=$n(r,Q,w),oe=f(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Va[e.position]}`+(s.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),B=f(()=>r.value===!0&&e.seamless!==!0),te=f(()=>e.autoClose===!0?{onClick:x}:{}),me=f(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${B.value===!0?"modal":"seamless"}`,a.class]);ee(()=>e.maximized,q=>{r.value===!0&&m(q)}),ee(B,q=>{b(q),q===!0?(ln(I),en(ae)):(Gt(I),Pt(ae))});function be(q){le(),h=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,m(e.maximized),E(),s.value=!0,e.noFocus!==!0?(document.activeElement?.blur(),T(ce)):g(),y(()=>{if(i.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:V,bottom:D}=document.activeElement.getBoundingClientRect(),{innerHeight:C}=window,G=window.visualViewport!==void 0?window.visualViewport.height:C;V>0&&D>G/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-G,D>=C?1/0:Math.ceil(document.scrollingElement.scrollTop+D-G/2))),document.activeElement.scrollIntoView()}S=!0,o.value.click(),S=!1}E(!0),s.value=!1,t("show",q)},e.transitionDuration)}function ie(q){g(),J(),we(!0),s.value=!0,L(),h!==null&&(((q?.type.indexOf("key")===0?h.closest('[tabindex]:not([tabindex^="-"])'):void 0)||h).focus(),h=null),y(()=>{L(!0),s.value=!1,t("hide",q)},e.transitionDuration)}function ce(q){Il(()=>{let V=o.value;if(V!==null){if(q!==void 0){const D=V.querySelector(q);if(D!==null){D.focus({preventScroll:!0});return}}V.contains(document.activeElement)!==!0&&(V=V.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||V.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||V.querySelector("[autofocus], [data-autofocus]")||V,V.focus({preventScroll:!0}))}})}function ge(q){q&&typeof q.focus=="function"?q.focus({preventScroll:!0}):ce(),t("shake");const V=o.value;V!==null&&(V.classList.remove("q-animate--scale"),V.classList.add("q-animate--scale"),c!==null&&clearTimeout(c),c=setTimeout(()=>{c=null,o.value!==null&&(V.classList.remove("q-animate--scale"),ce())},170))}function ae(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&ge():(t("escapeKey"),Q()))}function we(q){c!==null&&(clearTimeout(c),c=null),(q===!0||r.value===!0)&&(m(!1),e.seamless!==!0&&(b(!1),Gt(I),Pt(ae))),q!==!0&&(h=null)}function m(q){q===!0?u!==!0&&(kt<1&&document.body.classList.add("q-body--dialog"),kt++,u=!0):u===!0&&(kt<2&&document.body.classList.remove("q-body--dialog"),kt--,u=!1)}function x(q){S!==!0&&(Q(q),t("click",q))}function O(q){e.persistent!==!0&&e.noBackdropDismiss!==!0?Q(q):e.noShake!==!0&&ge()}function I(q){e.allowFocusOutside!==!0&&N.value===!0&&El(o.value,q.target)!==!0&&ce('[tabindex]:not([tabindex="-1"])')}Object.assign(i.proxy,{focus:ce,shake:ge,__updateRefocusTarget(q){h=q||null}}),Re(we);function U(){return v("div",{role:"dialog","aria-modal":B.value===!0?"true":"false",...a,class:me.value},[v(Wt,{name:"q-transition--fade",appear:!0},()=>B.value===!0?v("div",{class:"q-dialog__backdrop fixed-full",style:M.value,"aria-hidden":"true",tabindex:-1,onClick:O}):null),v(Wt,P.value,()=>r.value===!0?v("div",{ref:o,class:oe.value,style:A.value,tabindex:-1,...te.value},Te(l.default)):null)])}return j}}),kl=e=>["add","add-unique","toggle"].includes(e),Pa=".*+?^${}()|[]\\",Ta=Object.keys(nl);function jt(e,l){if(typeof e=="function")return e;const t=e!==void 0?e:l;return a=>a!==null&&typeof a=="object"&&t in a?a[t]:a}const Ea=se({name:"QSelect",inheritAttrs:!1,props:{...Kt,...Dl,...nl,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:kl},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:Kt.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...Ll,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:l,emit:t}){const{proxy:a}=ve(),{$q:i}=a,o=$(!1),r=$(!1),s=$(-1),c=$(""),h=$(!1),u=$(!1);let S=null,w=null,b,y,T,g=null,P,A,M,E;const L=$(null),N=$(null),j=$(null),Q=$(null),le=$(null),J=Nn(e),oe=jn(d),B=f(()=>Array.isArray(e.options)?e.options.length:0),te=f(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:me,virtualScrollSliceSizeComputed:be,localResetVirtualScroll:ie,padVirtualScroll:ce,onVirtualScrollEvt:ge,scrollTo:ae,setVirtualScrollSize:we}=Ul({virtualScrollLength:B,getVirtualScrollTarget:Mt,getVirtualScrollEl:wt,virtualScrollItemSizeComputed:te}),m=Hl(),x=f(()=>{const n=e.mapOptions===!0&&e.multiple!==!0,_=e.modelValue!==void 0&&(e.modelValue!==null||n===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const p=e.mapOptions===!0&&b!==void 0?b:[],H=_.map(K=>At(K,p));return e.modelValue===null&&n===!0?H.filter(K=>K!==null):H}return _}),O=f(()=>{const n={};return Ta.forEach(_=>{const p=e[_];p!==void 0&&(n[_]=p)}),n}),I=f(()=>e.optionsDark===null?m.isDark.value:e.optionsDark),U=f(()=>ml(x.value)),q=f(()=>{let n="q-field__input q-placeholder col";return e.hideSelected===!0||x.value.length===0?[n,e.inputClass]:(n+=" q-field__input--padding",e.inputClass===void 0?n:[n,e.inputClass])}),V=f(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),D=f(()=>B.value===0),C=f(()=>x.value.map(n=>fe.value(n)).join(", ")),G=f(()=>e.displayValue!==void 0?e.displayValue:C.value),de=f(()=>e.optionsHtml===!0?()=>!0:n=>n?.html===!0),Ae=f(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||x.value.some(de.value))),he=f(()=>m.focused.value===!0?e.tabindex:-1),Me=f(()=>{const n={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":o.value===!0?"true":"false","aria-controls":`${m.targetUid.value}_lb`};return s.value>=0&&(n["aria-activedescendant"]=`${m.targetUid.value}_${s.value}`),n}),qe=f(()=>({id:`${m.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),ke=f(()=>x.value.map((n,_)=>({index:_,opt:n,html:de.value(n),selected:!0,removeAtIndex:Rt,toggleOption:_e,tabindex:he.value}))),Oe=f(()=>{if(B.value===0)return[];const{from:n,to:_}=me.value;return e.options.slice(n,_).map((p,H)=>{const K=$e.value(p)===!0,W=Xe(p)===!0,ue=n+H,ne={clickable:!0,active:W,activeClass:ze.value,manualFocus:!0,focused:!1,disable:K,tabindex:-1,dense:e.optionsDense,dark:I.value,role:"option","aria-selected":W===!0?"true":"false",id:`${m.targetUid.value}_${ue}`,onClick:()=>{_e(p)}};return K!==!0&&(s.value===ue&&(ne.focused=!0),i.platform.is.desktop===!0&&(ne.onMousemove=()=>{o.value===!0&&Se(ue)})),{index:ue,opt:p,html:de.value(p),label:fe.value(p),selected:ne.active,focused:ne.focused,toggleOption:_e,setOptionIndex:Se,itemProps:ne}})}),Le=f(()=>e.dropdownIcon!==void 0?e.dropdownIcon:i.iconSet.arrow.dropdown),rt=f(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),ze=f(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),Ce=f(()=>jt(e.optionValue,"value")),fe=f(()=>jt(e.optionLabel,"label")),$e=f(()=>jt(e.optionDisable,"disable")),He=f(()=>x.value.map(Ce.value)),ht=f(()=>{const n={onInput:d,onChange:oe,onKeydown:Ie,onKeyup:Ye,onKeypress:ct,onFocus:st,onClick(_){y===!0&&lt(_)}};return n.onCompositionstart=n.onCompositionupdate=n.onCompositionend=oe,n});ee(x,n=>{b=n,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&m.innerLoading.value!==!0&&(r.value!==!0&&o.value!==!0||U.value!==!0)&&(T!==!0&&tt(),(r.value===!0||o.value===!0)&&F(""))},{immediate:!0}),ee(()=>e.fillInput,tt),ee(o,zt),ee(B,rn);function bt(n){return e.emitValue===!0?Ce.value(n):n}function Ge(n){if(n!==-1&&n<x.value.length)if(e.multiple===!0){const _=e.modelValue.slice();t("remove",{index:n,value:_.splice(n,1)[0]}),t("update:modelValue",_)}else t("update:modelValue",null)}function Rt(n){Ge(n),m.focus()}function St(n,_){const p=bt(n);if(e.multiple!==!0){e.fillInput===!0&&R(fe.value(n),!0,!0),t("update:modelValue",p);return}if(x.value.length===0){t("add",{index:0,value:p}),t("update:modelValue",e.multiple===!0?[p]:p);return}if(_===!0&&Xe(n)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const H=e.modelValue.slice();t("add",{index:H.length,value:p}),H.push(p),t("update:modelValue",H)}function _e(n,_){if(m.editable.value!==!0||n===void 0||$e.value(n)===!0)return;const p=Ce.value(n);if(e.multiple!==!0){_!==!0&&(R(e.fillInput===!0?fe.value(n):"",!0,!0),De()),N.value?.focus(),(x.value.length===0||dt(Ce.value(x.value[0]),p)!==!0)&&t("update:modelValue",e.emitValue===!0?p:n);return}if((y!==!0||h.value===!0)&&m.focus(),st(),x.value.length===0){const W=e.emitValue===!0?p:n;t("add",{index:0,value:W}),t("update:modelValue",e.multiple===!0?[W]:W);return}const H=e.modelValue.slice(),K=He.value.findIndex(W=>dt(W,p));if(K!==-1)t("remove",{index:K,value:H.splice(K,1)[0]});else{if(e.maxValues!==void 0&&H.length>=e.maxValues)return;const W=e.emitValue===!0?p:n;t("add",{index:H.length,value:W}),H.push(W)}t("update:modelValue",H)}function Se(n){if(i.platform.is.desktop!==!0)return;const _=n!==-1&&n<B.value?n:-1;s.value!==_&&(s.value=_)}function pe(n=1,_){if(o.value===!0){let p=s.value;do p=fl(p+n,-1,B.value-1);while(p!==-1&&p!==s.value&&$e.value(e.options[p])===!0);s.value!==p&&(Se(p),ae(p),_!==!0&&e.useInput===!0&&e.fillInput===!0&&k(p>=0?fe.value(e.options[p]):P,!0))}}function At(n,_){const p=H=>dt(Ce.value(H),n);return e.options.find(p)||_.find(p)||n}function Xe(n){const _=Ce.value(n);return He.value.find(p=>dt(p,_))!==void 0}function st(n){e.useInput===!0&&N.value!==null&&(n===void 0||N.value===n.target&&n.target.value===C.value)&&N.value.select()}function yt(n){Bt(n,27)===!0&&o.value===!0&&(lt(n),De(),tt()),t("keyup",n)}function Ye(n){const{value:_}=n.target;if(n.keyCode!==void 0){yt(n);return}if(n.target.value="",S!==null&&(clearTimeout(S),S=null),w!==null&&(clearTimeout(w),w=null),tt(),typeof _=="string"&&_.length!==0){const p=_.toLocaleLowerCase(),H=W=>{const ue=e.options.find(ne=>String(W.value(ne)).toLocaleLowerCase()===p);return ue===void 0?!1:(x.value.indexOf(ue)===-1?_e(ue):De(),!0)},K=W=>{H(Ce)!==!0&&W!==!0&&H(fe)!==!0&&F(_,!0,()=>K(!0))};K()}else m.clearValue(n)}function ct(n){t("keypress",n)}function Ie(n){if(t("keydown",n),wn(n)===!0)return;const _=c.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),p=n.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(s.value!==-1||_===!0);if(n.keyCode===27){mt(n);return}if(n.keyCode===9&&p===!1){Ze();return}if(n.target===void 0||n.target.id!==m.targetUid.value||m.editable.value!==!0)return;if(n.keyCode===40&&m.innerLoading.value!==!0&&o.value===!1){Pe(n),et();return}if(n.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&c.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Ge(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&t("update:modelValue",null);return}(n.keyCode===35||n.keyCode===36)&&(typeof c.value!="string"||c.value.length===0)&&(Pe(n),s.value=-1,pe(n.keyCode===36?1:-1,e.multiple)),(n.keyCode===33||n.keyCode===34)&&be.value!==void 0&&(Pe(n),s.value=Math.max(-1,Math.min(B.value,s.value+(n.keyCode===33?-1:1)*be.value.view)),pe(n.keyCode===33?1:-1,e.multiple)),(n.keyCode===38||n.keyCode===40)&&(Pe(n),pe(n.keyCode===38?-1:1,e.multiple));const H=B.value;if((M===void 0||E<Date.now())&&(M=""),H>0&&e.useInput!==!0&&n.key!==void 0&&n.key.length===1&&n.altKey===!1&&n.ctrlKey===!1&&n.metaKey===!1&&(n.keyCode!==32||M.length!==0)){o.value!==!0&&et(n);const K=n.key.toLocaleLowerCase(),W=M.length===1&&M[0]===K;E=Date.now()+1500,W===!1&&(Pe(n),M+=K);const ue=new RegExp("^"+M.split("").map(Ht=>Pa.indexOf(Ht)!==-1?"\\"+Ht:Ht).join(".*"),"i");let ne=s.value;if(W===!0||ne<0||ue.test(fe.value(e.options[ne]))!==!0)do ne=fl(ne+1,-1,H-1);while(ne!==s.value&&($e.value(e.options[ne])===!0||ue.test(fe.value(e.options[ne]))!==!0));s.value!==ne&&xe(()=>{Se(ne),ae(ne),ne>=0&&e.useInput===!0&&e.fillInput===!0&&k(fe.value(e.options[ne]),!0)});return}if(!(n.keyCode!==13&&(n.keyCode!==32||e.useInput===!0||M!=="")&&(n.keyCode!==9||p===!1))){if(n.keyCode!==9&&Pe(n),s.value!==-1&&s.value<H){_e(e.options[s.value]);return}if(_===!0){const K=(W,ue)=>{if(ue){if(kl(ue)!==!0)return}else ue=e.newValueMode;if(R("",e.multiple!==!0,!0),W==null)return;(ue==="toggle"?_e:St)(W,ue==="add-unique"),e.multiple!==!0&&(N.value?.focus(),De())};if(e.onNewValue!==void 0?t("newValue",c.value,K):K(c.value),e.multiple!==!0)return}o.value===!0?Ze():m.innerLoading.value!==!0&&et()}}function wt(){return y===!0?le.value:j.value!==null&&j.value.contentEl!==null?j.value.contentEl:void 0}function Mt(){return wt()}function Ot(){return e.hideSelected===!0?[]:l["selected-item"]!==void 0?ke.value.map(n=>l["selected-item"](n)).slice():l.selected!==void 0?[].concat(l.selected()):e.useChips===!0?ke.value.map((n,_)=>v(oa,{key:"option-"+_,removable:m.editable.value===!0&&$e.value(n.opt)!==!0,dense:!0,textColor:e.color,tabindex:he.value,onRemove(){n.removeAtIndex(_)}},()=>v("span",{class:"ellipsis",[n.html===!0?"innerHTML":"textContent"]:fe.value(n.opt)}))):[v("span",{class:"ellipsis",[Ae.value===!0?"innerHTML":"textContent"]:G.value})]}function Ct(){if(D.value===!0)return l["no-option"]!==void 0?l["no-option"]({inputValue:c.value}):void 0;const n=l.option!==void 0?l.option:p=>v(In,{key:p.index,...p.itemProps},()=>v(zn,()=>v(Hn,()=>v("span",{[p.html===!0?"innerHTML":"textContent"]:p.label}))));let _=ce("div",Oe.value.map(n));return l["before-options"]!==void 0&&(_=l["before-options"]().concat(_)),Ft(l["after-options"],_)}function $t(n,_){const p=_===!0?{...Me.value,...m.splitAttrs.attributes.value}:void 0,H={ref:_===!0?N:void 0,key:"i_t",class:q.value,style:e.inputStyle,value:c.value!==void 0?c.value:"",type:"search",...p,id:_===!0?m.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":n===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...ht.value};return n!==!0&&y===!0&&(Array.isArray(H.class)===!0?H.class=[...H.class,"no-pointer-events"]:H.class+=" no-pointer-events"),v("input",H)}function d(n){S!==null&&(clearTimeout(S),S=null),w!==null&&(clearTimeout(w),w=null),!(n&&n.target&&n.target.qComposing===!0)&&(k(n.target.value||""),T=!0,P=c.value,m.focused.value!==!0&&(y!==!0||h.value===!0)&&m.focus(),e.onFilter!==void 0&&(S=setTimeout(()=>{S=null,F(c.value)},e.inputDebounce)))}function k(n,_){c.value!==n&&(c.value=n,_===!0||e.inputDebounce===0||e.inputDebounce==="0"?t("inputValue",n):w=setTimeout(()=>{w=null,t("inputValue",n)},e.inputDebounce))}function R(n,_,p){T=p!==!0,e.useInput===!0&&(k(n,!0),(_===!0||p!==!0)&&(P=n),_!==!0&&F(n))}function F(n,_,p){if(e.onFilter===void 0||_!==!0&&m.focused.value!==!0)return;m.innerLoading.value===!0?t("filterAbort"):(m.innerLoading.value=!0,u.value=!0),n!==""&&e.multiple!==!0&&x.value.length!==0&&T!==!0&&n===fe.value(x.value[0])&&(n="");const H=setTimeout(()=>{o.value===!0&&(o.value=!1)},10);g!==null&&clearTimeout(g),g=H,t("filter",n,(K,W)=>{(_===!0||m.focused.value===!0)&&g===H&&(clearTimeout(g),typeof K=="function"&&K(),u.value=!1,xe(()=>{m.innerLoading.value=!1,m.editable.value===!0&&(_===!0?o.value===!0&&De():o.value===!0?zt(!0):o.value=!0),typeof W=="function"&&xe(()=>{W(a)}),typeof p=="function"&&xe(()=>{p(a)})}))},()=>{m.focused.value===!0&&g===H&&(clearTimeout(g),m.innerLoading.value=!1,u.value=!1),o.value===!0&&(o.value=!1)})}function z(){return v(pa,{ref:j,class:V.value,style:e.popupContentStyle,modelValue:o.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&D.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:I.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:rt.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...qe.value,onScrollPassive:ge,onBeforeShow:ol,onBeforeHide:Z,onShow:X},Ct)}function Z(n){il(n),Ze()}function X(){we()}function ye(n){lt(n),N.value?.focus(),h.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Y(n){lt(n),xe(()=>{h.value=!1})}function Ee(){const n=[v(na,{class:`col-auto ${m.fieldClass.value}`,...O.value,for:m.targetUid.value,dark:I.value,square:!0,loading:u.value,itemAligned:!1,filled:!0,stackLabel:c.value.length!==0,...m.splitAttrs.listeners.value,onFocus:ye,onBlur:Y},{...l,rawControl:()=>m.getControl(!0),before:void 0,after:void 0})];return o.value===!0&&n.push(v("div",{ref:le,class:V.value+" scroll",style:e.popupContentStyle,...qe.value,onClick:mt,onScrollPassive:ge},Ct())),v(an,{ref:Q,modelValue:r.value,position:e.useInput===!0?"top":void 0,transitionShow:A,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:ol,onBeforeHide:Je,onHide:Lt,onShow:un},()=>v("div",{class:"q-select__dialog"+(I.value===!0?" q-select__dialog--dark q-dark":"")+(h.value===!0?" q-select__dialog--focused":"")},n))}function Je(n){il(n),Q.value!==null&&Q.value.__updateRefocusTarget(m.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),m.focused.value=!1}function Lt(n){De(),m.focused.value===!1&&t("blur",n),tt()}function un(){const n=document.activeElement;(n===null||n.id!==m.targetUid.value)&&N.value!==null&&N.value!==n&&N.value.focus(),we()}function Ze(){r.value!==!0&&(s.value=-1,o.value===!0&&(o.value=!1),m.focused.value===!1&&(g!==null&&(clearTimeout(g),g=null),m.innerLoading.value===!0&&(t("filterAbort"),m.innerLoading.value=!1,u.value=!1)))}function et(n){m.editable.value===!0&&(y===!0?(m.onControlFocusin(n),r.value=!0,xe(()=>{m.focus()})):m.focus(),e.onFilter!==void 0?F(c.value):(D.value!==!0||l["no-option"]!==void 0)&&(o.value=!0))}function De(){r.value=!1,Ze()}function tt(){e.useInput===!0&&R(e.multiple!==!0&&e.fillInput===!0&&x.value.length!==0&&fe.value(x.value[0])||"",!0,!0)}function zt(n){let _=-1;if(n===!0){if(x.value.length!==0){const p=Ce.value(x.value[0]);_=e.options.findIndex(H=>dt(Ce.value(H),p))}ie(_)}Se(_)}function rn(n,_){o.value===!0&&m.innerLoading.value===!1&&(ie(-1,!0),xe(()=>{o.value===!0&&m.innerLoading.value===!1&&(n>_?ie():zt(!0))}))}function al(){r.value===!1&&j.value!==null&&j.value.updatePosition()}function ol(n){n!==void 0&&lt(n),t("popupShow",n),m.hasPopupOpen=!0,m.onControlFocusin(n)}function il(n){n!==void 0&&lt(n),t("popupHide",n),m.hasPopupOpen=!1,m.onControlFocusout(n)}function ul(){y=i.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?l["no-option"]!==void 0||e.onFilter!==void 0||D.value===!1:!0),A=i.platform.is.ios===!0&&y===!0&&e.useInput===!0?"fade":e.transitionShow}return Cn(ul),xn(al),ul(),Re(()=>{S!==null&&clearTimeout(S),w!==null&&clearTimeout(w)}),Object.assign(a,{showPopup:et,hidePopup:De,removeAtIndex:Ge,add:St,toggleOption:_e,getOptionIndex:()=>s.value,setOptionIndex:Se,moveOptionSelection:pe,filter:F,updateMenuPosition:al,updateInputValue:R,isOptionSelected:Xe,getEmittingOptionValue:bt,isOptionDisabled:(...n)=>$e.value.apply(null,n)===!0,getOptionValue:(...n)=>Ce.value.apply(null,n),getOptionLabel:(...n)=>fe.value.apply(null,n)}),Object.assign(m,{innerValue:x,fieldClass:f(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:L,targetRef:N,hasValue:U,showPopup:et,floatingLabel:f(()=>e.hideSelected!==!0&&U.value===!0||typeof c.value=="number"||c.value.length!==0||ml(e.displayValue)),getControlChild:()=>{if(m.editable.value!==!1&&(r.value===!0||D.value!==!0||l["no-option"]!==void 0))return y===!0?Ee():z();m.hasPopupOpen===!0&&(m.hasPopupOpen=!1)},controlEvents:{onFocusin(n){m.onControlFocusin(n)},onFocusout(n){m.onControlFocusout(n,()=>{tt(),Ze()})},onClick(n){if(mt(n),y!==!0&&o.value===!0){Ze(),N.value?.focus();return}et(n)}},getControl:n=>{const _=Ot(),p=n===!0||r.value!==!0||y!==!0;if(e.useInput===!0)_.push($t(n,p));else if(m.editable.value===!0){const K=p===!0?Me.value:void 0;_.push(v("input",{ref:p===!0?N:void 0,key:"d_t",class:"q-select__focus-target",id:p===!0?m.targetUid.value:void 0,value:G.value,readonly:!0,"data-autofocus":n===!0||e.autofocus===!0||void 0,...K,onKeydown:Ie,onKeyup:yt,onKeypress:ct})),p===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&_.push(v("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Ye}))}if(J.value!==void 0&&e.disable!==!0&&He.value.length!==0){const K=He.value.map(W=>v("option",{value:W,selected:!0}));_.push(v("select",{class:"hidden",name:J.value,multiple:e.multiple},K))}const H=e.useInput===!0||p!==!0?void 0:m.splitAttrs.attributes.value;return v("div",{class:"q-field__native row items-center",...H,...m.splitAttrs.listeners.value},_)},getInnerAppend:()=>e.loading!==!0&&u.value!==!0&&e.hideDropdownIcon!==!0?[v(Ne,{class:"q-select__dropdown-icon"+(o.value===!0?" rotate-180":""),name:Le.value})]:null}),zl(m)}}),Ba={xs:2,sm:4,md:6,lg:10,xl:14};function _l(e,l,t){return{transform:l===!0?`translateX(${t.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}const Fa=se({name:"QLinearProgress",props:{...Ue,...Yt,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:l}){const{proxy:t}=ve(),a=Ke(e,t.$q),i=Jt(e,Ba),o=f(()=>e.indeterminate===!0||e.query===!0),r=f(()=>e.reverse!==e.query),s=f(()=>({...i.value!==null?i.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),c=f(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),h=f(()=>_l(e.buffer!==void 0?e.buffer:1,r.value,t.$q)),u=f(()=>`with${e.instantFeedback===!0?"out":""}-transition`),S=f(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${u.value} q-linear-progress__track--${a.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),w=f(()=>_l(o.value===!0?1:e.value,r.value,t.$q)),b=f(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${u.value} q-linear-progress__model--${o.value===!0?"in":""}determinate`),y=f(()=>({width:`${e.value*100}%`})),T=f(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${u.value}`);return()=>{const g=[v("div",{class:S.value,style:h.value}),v("div",{class:b.value,style:w.value})];return e.stripe===!0&&o.value===!1&&g.push(v("div",{class:T.value,style:y.value})),v("div",{class:c.value,style:s.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},Ft(l.default,g))}}});function Ra(e,l){const t=$(null),a=f(()=>e.disable===!0?null:v("span",{ref:t,class:"no-outline",tabindex:-1}));function i(o){const r=l.value;o?.qAvoidFocus!==!0&&(o?.type.indexOf("key")===0?document.activeElement!==r&&r?.contains(document.activeElement)===!0&&r.focus():t.value!==null&&(o===void 0||r?.contains(o.target)===!0)&&t.value.focus())}return{refocusTargetEl:a,refocusTarget:i}}const Aa={xs:30,sm:35,md:40,lg:50,xl:60},Ma={...Ue,...Yt,...Dl,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},Oa=["update:modelValue"];function $a(e,l){const{props:t,slots:a,emit:i,proxy:o}=ve(),{$q:r}=o,s=Ke(t,r),c=$(null),{refocusTargetEl:h,refocusTarget:u}=Ra(t,c),S=Jt(t,Aa),w=f(()=>t.val!==void 0&&Array.isArray(t.modelValue)),b=f(()=>{const B=nt(t.val);return w.value===!0?t.modelValue.findIndex(te=>nt(te)===B):-1}),y=f(()=>w.value===!0?b.value!==-1:nt(t.modelValue)===nt(t.trueValue)),T=f(()=>w.value===!0?b.value===-1:nt(t.modelValue)===nt(t.falseValue)),g=f(()=>y.value===!1&&T.value===!1),P=f(()=>t.disable===!0?-1:t.tabindex||0),A=f(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(t.disable===!0?" disabled":"")+(s.value===!0?` q-${e}--dark`:"")+(t.dense===!0?` q-${e}--dense`:"")+(t.leftLabel===!0?" reverse":"")),M=f(()=>{const B=y.value===!0?"truthy":T.value===!0?"falsy":"indet",te=t.color!==void 0&&(t.keepColor===!0||T.value!==!0)?` text-${t.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${B}${te}`}),E=f(()=>{const B={type:"checkbox"};return t.name!==void 0&&Object.assign(B,{".checked":y.value,"^checked":y.value===!0?"checked":void 0,name:t.name,value:w.value===!0?t.val:t.trueValue}),B}),L=Qn(E),N=f(()=>{const B={tabindex:P.value,role:"checkbox","aria-label":t.label,"aria-checked":g.value===!0?"mixed":y.value===!0?"true":"false"};return t.disable===!0&&(B["aria-disabled"]="true"),B});function j(B){B!==void 0&&(Pe(B),u(B)),t.disable!==!0&&i("update:modelValue",Q(),B)}function Q(){if(w.value===!0){if(y.value===!0){const B=t.modelValue.slice();return B.splice(b.value,1),B}return t.modelValue.concat([t.val])}if(y.value===!0){if(t.toggleOrder!=="ft"||t.toggleIndeterminate===!1)return t.falseValue}else if(T.value===!0){if(t.toggleOrder==="ft"||t.toggleIndeterminate===!1)return t.trueValue}else return t.toggleOrder!=="ft"?t.trueValue:t.falseValue;return t.indeterminateValue}function le(B){(B.keyCode===13||B.keyCode===32)&&Pe(B)}function J(B){(B.keyCode===13||B.keyCode===32)&&j(B)}const oe=l(y,g);return Object.assign(o,{toggle:j}),()=>{const B=oe();t.disable!==!0&&L(B,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const te=[v("div",{class:M.value,style:S.value,"aria-hidden":"true"},B)];h.value!==null&&te.push(h.value);const me=t.label!==void 0?Ft(a.default,[t.label]):Te(a.default);return me!==void 0&&te.push(v("div",{class:`q-${e}__label q-anchor--skip`},me)),v("div",{ref:c,class:A.value,...N.value,onClick:j,onKeydown:le,onKeyup:J},te)}}const La=()=>v("div",{key:"svg",class:"q-checkbox__bg absolute"},[v("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[v("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),v("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]),Qt=se({name:"QCheckbox",props:Ma,emits:Oa,setup(e){const l=La();function t(a,i){const o=f(()=>(a.value===!0?e.checkedIcon:i.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>o.value!==null?[v("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[v(Ne,{class:"q-checkbox__icon",name:o.value})])]:[l]}return $a("checkbox",t)}});let vt=0;const za={fullscreen:Boolean,noRouteFullscreenExit:Boolean},Ha=["update:fullscreen","fullscreen"];function Ia(){const e=ve(),{props:l,emit:t,proxy:a}=e;let i,o,r;const s=$(!1);dn(e)===!0&&ee(()=>a.$route.fullPath,()=>{l.noRouteFullscreenExit!==!0&&u()}),ee(()=>l.fullscreen,S=>{s.value!==S&&c()}),ee(s,S=>{t("update:fullscreen",S),t("fullscreen",S)});function c(){s.value===!0?u():h()}function h(){s.value!==!0&&(s.value=!0,r=a.$el.parentNode,r.replaceChild(o,a.$el),document.body.appendChild(a.$el),vt++,vt===1&&document.body.classList.add("q-body--fullscreen-mixin"),i={handler:u},cl.add(i))}function u(){s.value===!0&&(i!==void 0&&(cl.remove(i),i=void 0),r.replaceChild(a.$el,o),s.value=!1,vt=Math.max(0,vt-1),vt===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),a.$el.scrollIntoView!==void 0&&setTimeout(()=>{a.$el.scrollIntoView()})))}return Zt(()=>{o=document.createElement("span")}),tl(()=>{l.fullscreen===!0&&h()}),Re(u),Object.assign(a,{toggleFullscreen:c,setFullscreen:h,exitFullscreen:u}),{inFullscreen:s,toggleFullscreen:c}}function Da(e,l){return new Date(e)-new Date(l)}const Na={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function ja(e,l,t,a){const i=f(()=>{const{sortBy:s}=l.value;return s&&t.value.find(c=>c.name===s)||null}),o=f(()=>e.sortMethod!==void 0?e.sortMethod:(s,c,h)=>{const u=t.value.find(b=>b.name===c);if(u===void 0||u.field===void 0)return s;const S=h===!0?-1:1,w=typeof u.field=="function"?b=>u.field(b):b=>b[u.field];return s.sort((b,y)=>{let T=w(b),g=w(y);return u.rawSort!==void 0?u.rawSort(T,g,b,y)*S:T==null?-1*S:g==null?1*S:u.sort!==void 0?u.sort(T,g,b,y)*S:Ut(T)===!0&&Ut(g)===!0?(T-g)*S:dl(T)===!0&&dl(g)===!0?Da(T,g)*S:typeof T=="boolean"&&typeof g=="boolean"?(T-g)*S:([T,g]=[T,g].map(P=>(P+"").toLocaleString().toLowerCase()),T<g?-1*S:T===g?0:S)})});function r(s){let c=e.columnSortOrder;if(qn(s)===!0)s.sortOrder&&(c=s.sortOrder),s=s.name;else{const S=t.value.find(w=>w.name===s);S?.sortOrder&&(c=S.sortOrder)}let{sortBy:h,descending:u}=l.value;h!==s?(h=s,u=c==="da"):e.binaryStateSort===!0?u=!u:u===!0?c==="ad"?h=null:u=!1:c==="ad"?u=!0:h=null,a({sortBy:h,descending:u,page:1})}return{columnToSort:i,computedSortMethod:o,sort:r}}const Qa={filter:[String,Object],filterMethod:Function};function Wa(e,l){const t=f(()=>e.filterMethod!==void 0?e.filterMethod:(a,i,o,r)=>{const s=i?i.toLowerCase():"";return a.filter(c=>o.some(h=>{const u=r(h,c)+"";return(u==="undefined"||u==="null"?"":u.toLowerCase()).indexOf(s)!==-1}))});return ee(()=>e.filter,()=>{xe(()=>{l({page:1},!0)})},{deep:!0}),{computedFilterMethod:t}}function Ua(e,l){for(const t in l)if(l[t]!==e[t])return!1;return!0}function pl(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const Ka={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function Ga(e,l){const{props:t,emit:a}=e,i=$(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:t.rowsPerPageOptions.length!==0?t.rowsPerPageOptions[0]:5},t.pagination)),o=f(()=>{const u=t["onUpdate:pagination"]!==void 0?{...i.value,...t.pagination}:i.value;return pl(u)}),r=f(()=>o.value.rowsNumber!==void 0);function s(u){c({pagination:u,filter:t.filter})}function c(u={}){xe(()=>{a("request",{pagination:u.pagination||o.value,filter:u.filter||t.filter,getCellValue:l})})}function h(u,S){const w=pl({...o.value,...u});if(Ua(o.value,w)===!0){r.value===!0&&S===!0&&s(w);return}if(r.value===!0){s(w);return}t.pagination!==void 0&&t["onUpdate:pagination"]!==void 0?a("update:pagination",w):i.value=w}return{innerPagination:i,computedPagination:o,isServerSide:r,requestServerInteraction:c,setPagination:h}}function Xa(e,l,t,a,i,o){const{props:r,emit:s,proxy:{$q:c}}=e,h=f(()=>a.value===!0?t.value.rowsNumber||0:o.value),u=f(()=>{const{page:E,rowsPerPage:L}=t.value;return(E-1)*L}),S=f(()=>{const{page:E,rowsPerPage:L}=t.value;return E*L}),w=f(()=>t.value.page===1),b=f(()=>t.value.rowsPerPage===0?1:Math.max(1,Math.ceil(h.value/t.value.rowsPerPage))),y=f(()=>S.value===0?!0:t.value.page>=b.value),T=f(()=>(r.rowsPerPageOptions.includes(l.value.rowsPerPage)?r.rowsPerPageOptions:[l.value.rowsPerPage].concat(r.rowsPerPageOptions)).map(L=>({label:L===0?c.lang.table.allRows:""+L,value:L})));ee(b,(E,L)=>{if(E===L)return;const N=t.value.page;E&&!N?i({page:1}):E<N&&i({page:E})});function g(){i({page:1})}function P(){const{page:E}=t.value;E>1&&i({page:E-1})}function A(){const{page:E,rowsPerPage:L}=t.value;S.value>0&&E*L<h.value&&i({page:E+1})}function M(){i({page:b.value})}return r["onUpdate:pagination"]!==void 0&&s("update:pagination",{...t.value}),{firstRowIndex:u,lastRowIndex:S,isFirstPage:w,isLastPage:y,pagesNumber:b,computedRowsPerPageOptions:T,computedRowsNumber:h,firstPage:g,prevPage:P,nextPage:A,lastPage:M}}const Ya={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},Ja=["update:selected","selection"];function Za(e,l,t,a){const i=f(()=>{const y={};return e.selected.map(a.value).forEach(T=>{y[T]=!0}),y}),o=f(()=>e.selection!=="none"),r=f(()=>e.selection==="single"),s=f(()=>e.selection==="multiple"),c=f(()=>t.value.length!==0&&t.value.every(y=>i.value[a.value(y)]===!0)),h=f(()=>c.value!==!0&&t.value.some(y=>i.value[a.value(y)]===!0)),u=f(()=>e.selected.length);function S(y){return i.value[y]===!0}function w(){l("update:selected",[])}function b(y,T,g,P){l("selection",{rows:T,added:g,keys:y,evt:P});const A=r.value===!0?g===!0?T:[]:g===!0?e.selected.concat(T):e.selected.filter(M=>y.includes(a.value(M))===!1);l("update:selected",A)}return{hasSelectionMode:o,singleSelection:r,multipleSelection:s,allRowsSelected:c,someRowsSelected:h,rowsSelectedNumber:u,isRowSelected:S,clearSelection:w,updateSelection:b}}function Vl(e){return Array.isArray(e)?e.slice():[]}const eo={expanded:Array},to=["update:expanded"];function lo(e,l){const t=$(Vl(e.expanded));ee(()=>e.expanded,r=>{t.value=Vl(r)});function a(r){return t.value.includes(r)}function i(r){e.expanded!==void 0?l("update:expanded",r):t.value=r}function o(r,s){const c=t.value.slice(),h=c.indexOf(r);s===!0?h===-1&&(c.push(r),i(c)):h!==-1&&(c.splice(h,1),i(c))}return{isRowExpanded:a,setExpanded:i,updateExpanded:o}}const no={visibleColumns:Array};function ao(e,l,t){const a=f(()=>{if(e.columns!==void 0)return e.columns;const s=e.rows[0];return s!==void 0?Object.keys(s).map(c=>({name:c,label:c.toUpperCase(),field:c,align:Ut(s[c])?"right":"left",sortable:!0})):[]}),i=f(()=>{const{sortBy:s,descending:c}=l.value;return(e.visibleColumns!==void 0?a.value.filter(u=>u.required===!0||e.visibleColumns.includes(u.name)===!0):a.value).map(u=>{const S=u.align||"right",w=`text-${S}`;return{...u,align:S,__iconClass:`q-table__sort-icon q-table__sort-icon--${S}`,__thClass:w+(u.headerClasses!==void 0?" "+u.headerClasses:"")+(u.sortable===!0?" sortable":"")+(u.name===s?` sorted ${c===!0?"sort-desc":""}`:""),__tdStyle:u.style!==void 0?typeof u.style!="function"?()=>u.style:u.style:()=>null,__tdClass:u.classes!==void 0?typeof u.classes!="function"?()=>w+" "+u.classes:b=>w+" "+u.classes(b):()=>w}})}),o=f(()=>{const s={};return i.value.forEach(c=>{s[c.name]=c}),s}),r=f(()=>e.tableColspan!==void 0?e.tableColspan:i.value.length+(t.value===!0?1:0));return{colList:a,computedCols:i,computedColsMap:o,computedColspan:r}}const _t="q-table__bottom row items-center",on={};Wl.forEach(e=>{on[e]={}});const oo=se({name:"QTable",props:{rows:{type:Array,required:!0},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{},...on,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],tableRowStyleFn:Function,tableRowClassFn:Function,cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],cardStyleFn:Function,cardClassFn:Function,hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...Ue,...za,...no,...Qa,...Ka,...eo,...Ya,...Na},emits:["request","virtualScroll",...Ha,...to,...Ja],setup(e,{slots:l,emit:t}){const a=ve(),{proxy:{$q:i}}=a,o=Ke(e,i),{inFullscreen:r,toggleFullscreen:s}=Ia(),c=f(()=>typeof e.rowKey=="function"?e.rowKey:d=>d[e.rowKey]),h=$(null),u=$(null),S=f(()=>e.grid!==!0&&e.virtualScroll===!0),w=f(()=>" q-table__card"+(o.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),b=f(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":w.value)+(o.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(r.value===!0?" fullscreen scroll":"")),y=f(()=>b.value+(e.loading===!0?" q-table--loading":""));ee(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+b.value,()=>{S.value===!0&&u.value?.reset()});const{innerPagination:T,computedPagination:g,isServerSide:P,requestServerInteraction:A,setPagination:M}=Ga(a,Se),{computedFilterMethod:E}=Wa(e,M),{isRowExpanded:L,setExpanded:N,updateExpanded:j}=lo(e,t),Q=f(()=>{let d=e.rows;if(P.value===!0||d.length===0)return d;const{sortBy:k,descending:R}=g.value;return e.filter&&(d=E.value(d,e.filter,m.value,Se)),I.value!==null&&(d=U.value(e.rows===d?d.slice():d,k,R)),d}),le=f(()=>Q.value.length),J=f(()=>{let d=Q.value;if(P.value===!0)return d;const{rowsPerPage:k}=g.value;return k!==0&&(V.value===0&&e.rows!==d?d.length>D.value&&(d=d.slice(0,D.value)):d=d.slice(V.value,D.value)),d}),{hasSelectionMode:oe,singleSelection:B,multipleSelection:te,allRowsSelected:me,someRowsSelected:be,rowsSelectedNumber:ie,isRowSelected:ce,clearSelection:ge,updateSelection:ae}=Za(e,t,J,c),{colList:we,computedCols:m,computedColsMap:x,computedColspan:O}=ao(e,g,oe),{columnToSort:I,computedSortMethod:U,sort:q}=ja(e,g,we,M),{firstRowIndex:V,lastRowIndex:D,isFirstPage:C,isLastPage:G,pagesNumber:de,computedRowsPerPageOptions:Ae,computedRowsNumber:he,firstPage:Me,prevPage:qe,nextPage:ke,lastPage:Oe}=Xa(a,T,g,P,M,le),Le=f(()=>J.value.length===0),rt=f(()=>{const d={};return Wl.forEach(k=>{d[k]=e[k]}),d.virtualScrollItemSize===void 0&&(d.virtualScrollItemSize=e.dense===!0?28:48),d});function ze(){S.value===!0&&u.value.reset()}function Ce(){if(e.grid===!0)return $t();const d=e.hideHeader!==!0?st:null;if(S.value===!0){const R=l["top-row"],F=l["bottom-row"],z={default:Z=>ht(Z.item,l.body,Z.index)};if(R!==void 0){const Z=v("tbody",R({cols:m.value}));z.before=d===null?()=>Z:()=>[d()].concat(Z)}else d!==null&&(z.before=d);return F!==void 0&&(z.after=()=>v("tbody",F({cols:m.value}))),v(la,{ref:u,class:e.tableClass,style:e.tableStyle,...rt.value,scrollTarget:e.virtualScrollTarget,items:J.value,type:"__qtable",tableColspan:O.value,onVirtualScroll:$e},z)}const k=[bt()];return d!==null&&k.unshift(d()),Nl({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},k)}function fe(d,k){if(u.value!==null){u.value.scrollTo(d,k);return}d=parseInt(d,10);const R=h.value.querySelector(`tbody tr:nth-of-type(${d+1})`);if(R!==null){const F=h.value.querySelector(".q-table__middle.scroll"),z=R.offsetTop-e.virtualScrollStickySizeStart,Z=z<F.scrollTop?"decrease":"increase";F.scrollTop=z,t("virtualScroll",{index:d,from:0,to:T.value.rowsPerPage-1,direction:Z})}}function $e(d){t("virtualScroll",d)}function He(){return[v(Fa,{class:"q-table__linear-progress",color:e.color,dark:o.value,indeterminate:!0,trackColor:"transparent"})]}function ht(d,k,R){const F=c.value(d),z=ce(F);if(k!==void 0){const Y={key:F,row:d,pageIndex:R,__trClass:z?"selected":""};if(e.tableRowStyleFn!==void 0&&(Y.__trStyle=e.tableRowStyleFn(d)),e.tableRowClassFn!==void 0){const Ee=e.tableRowClassFn(d);Ee&&(Y.__trClass=`${Ee} ${Y.__trClass}`)}return k(Ge(Y))}const Z=l["body-cell"],X=m.value.map(Y=>{const Ee=l[`body-cell-${Y.name}`],Je=Ee!==void 0?Ee:Z;return Je!==void 0?Je(Rt({key:F,row:d,pageIndex:R,col:Y})):v("td",{class:Y.__tdClass(d),style:Y.__tdStyle(d)},Se(Y,d))});if(oe.value===!0){const Y=l["body-selection"],Ee=Y!==void 0?Y(St({key:F,row:d,pageIndex:R})):[v(Qt,{modelValue:z,color:e.color,dark:o.value,dense:e.dense,"onUpdate:modelValue":(Je,Lt)=>{ae([F],[d],Je,Lt)}})];X.unshift(v("td",{class:"q-table--col-auto-width"},Ee))}const ye={key:F,class:{selected:z}};if(e.onRowClick!==void 0&&(ye.class["cursor-pointer"]=!0,ye.onClick=Y=>{t("rowClick",Y,d,R)}),e.onRowDblclick!==void 0&&(ye.class["cursor-pointer"]=!0,ye.onDblclick=Y=>{t("rowDblclick",Y,d,R)}),e.onRowContextmenu!==void 0&&(ye.class["cursor-pointer"]=!0,ye.onContextmenu=Y=>{t("rowContextmenu",Y,d,R)}),e.tableRowStyleFn!==void 0&&(ye.style=e.tableRowStyleFn(d)),e.tableRowClassFn!==void 0){const Y=e.tableRowClassFn(d);Y&&(ye.class[Y]=!0)}return v("tr",ye,X)}function bt(){const d=l.body,k=l["top-row"],R=l["bottom-row"];let F=J.value.map((z,Z)=>ht(z,d,Z));return k!==void 0&&(F=k({cols:m.value}).concat(F)),R!==void 0&&(F=F.concat(R({cols:m.value}))),v("tbody",F)}function Ge(d){return _e(d),d.cols=d.cols.map(k=>at({...k},"value",()=>Se(k,d.row))),d}function Rt(d){return _e(d),at(d,"value",()=>Se(d.col,d.row)),d}function St(d){return _e(d),d}function _e(d){Object.assign(d,{cols:m.value,colsMap:x.value,sort:q,rowIndex:V.value+d.pageIndex,color:e.color,dark:o.value,dense:e.dense}),oe.value===!0&&at(d,"selected",()=>ce(d.key),(k,R)=>{ae([d.key],[d.row],k,R)}),at(d,"expand",()=>L(d.key),k=>{j(d.key,k)})}function Se(d,k){const R=typeof d.field=="function"?d.field(k):k[d.field];return d.format!==void 0?d.format(R,k):R}const pe=f(()=>({pagination:g.value,pagesNumber:de.value,isFirstPage:C.value,isLastPage:G.value,firstPage:Me,prevPage:qe,nextPage:ke,lastPage:Oe,inFullscreen:r.value,toggleFullscreen:s}));function At(){const d=l.top,k=l["top-left"],R=l["top-right"],F=l["top-selection"],z=oe.value===!0&&F!==void 0&&ie.value>0,Z="q-table__top relative-position row items-center";if(d!==void 0)return v("div",{class:Z},[d(pe.value)]);let X;if(z===!0?X=F(pe.value).slice():(X=[],k!==void 0?X.push(v("div",{class:"q-table__control"},[k(pe.value)])):e.title&&X.push(v("div",{class:"q-table__control"},[v("div",{class:["q-table__title",e.titleClass]},e.title)]))),R!==void 0&&(X.push(v("div",{class:"q-table__separator col"})),X.push(v("div",{class:"q-table__control"},[R(pe.value)]))),X.length!==0)return v("div",{class:Z},X)}const Xe=f(()=>be.value===!0?null:me.value);function st(){const d=yt();return e.loading===!0&&l.loading===void 0&&d.push(v("tr",{class:"q-table__progress"},[v("th",{class:"relative-position",colspan:O.value},He())])),v("thead",d)}function yt(){const d=l.header,k=l["header-cell"];if(d!==void 0)return d(Ye({header:!0})).slice();const R=m.value.map(F=>{const z=l[`header-cell-${F.name}`],Z=z!==void 0?z:k,X=Ye({col:F});return Z!==void 0?Z(X):v(Un,{key:F.name,props:X},()=>F.label)});if(B.value===!0&&e.grid!==!0)R.unshift(v("th",{class:"q-table--col-auto-width"}," "));else if(te.value===!0){const F=l["header-selection"],z=F!==void 0?F(Ye({})):[v(Qt,{color:e.color,modelValue:Xe.value,dark:o.value,dense:e.dense,"onUpdate:modelValue":ct})];R.unshift(v("th",{class:"q-table--col-auto-width"},z))}return[v("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},R)]}function Ye(d){return Object.assign(d,{cols:m.value,sort:q,colsMap:x.value,color:e.color,dark:o.value,dense:e.dense}),te.value===!0&&at(d,"selected",()=>Xe.value,ct),d}function ct(d){be.value===!0&&(d=!1),ae(J.value.map(c.value),J.value,d)}const Ie=f(()=>{const d=[e.iconFirstPage||i.iconSet.table.firstPage,e.iconPrevPage||i.iconSet.table.prevPage,e.iconNextPage||i.iconSet.table.nextPage,e.iconLastPage||i.iconSet.table.lastPage];return i.lang.rtl===!0?d.reverse():d});function wt(){if(e.hideBottom===!0)return;if(Le.value===!0){if(e.hideNoData===!0)return;const R=e.loading===!0?e.loadingLabel||i.lang.table.loading:e.filter?e.noResultsLabel||i.lang.table.noResults:e.noDataLabel||i.lang.table.noData,F=l["no-data"],z=F!==void 0?[F({message:R,icon:i.iconSet.table.warning,filter:e.filter})]:[v(Ne,{class:"q-table__bottom-nodata-icon",name:i.iconSet.table.warning}),R];return v("div",{class:_t+" q-table__bottom--nodata"},z)}const d=l.bottom;if(d!==void 0)return v("div",{class:_t},[d(pe.value)]);const k=e.hideSelectedBanner!==!0&&oe.value===!0&&ie.value>0?[v("div",{class:"q-table__control"},[v("div",[(e.selectedRowsLabel||i.lang.table.selectedRecords)(ie.value)])])]:[];if(e.hidePagination!==!0)return v("div",{class:_t+" justify-end"},Ot(k));if(k.length!==0)return v("div",{class:_t},k)}function Mt(d){M({page:1,rowsPerPage:d.value})}function Ot(d){let k;const{rowsPerPage:R}=g.value,F=e.paginationLabel||i.lang.table.pagination,z=l.pagination,Z=e.rowsPerPageOptions.length>1;if(d.push(v("div",{class:"q-table__separator col"})),Z===!0&&d.push(v("div",{class:"q-table__control"},[v("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||i.lang.table.recordsPerPage]),v(Ea,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:R,options:Ae.value,displayValue:R===0?i.lang.table.allRows:R,dark:o.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":Mt})])),z!==void 0)k=z(pe.value);else if(k=[v("span",R!==0?{class:"q-table__bottom-item"}:{},[R?F(V.value+1,Math.min(D.value,he.value),he.value):F(1,le.value,he.value)])],R!==0&&de.value>1){const X={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(X.size="sm"),de.value>2&&k.push(v(Fe,{key:"pgFirst",...X,icon:Ie.value[0],disable:C.value,ariaLabel:i.lang.pagination.first,onClick:Me})),k.push(v(Fe,{key:"pgPrev",...X,icon:Ie.value[1],disable:C.value,ariaLabel:i.lang.pagination.prev,onClick:qe}),v(Fe,{key:"pgNext",...X,icon:Ie.value[2],disable:G.value,ariaLabel:i.lang.pagination.next,onClick:ke})),de.value>2&&k.push(v(Fe,{key:"pgLast",...X,icon:Ie.value[3],disable:G.value,ariaLabel:i.lang.pagination.last,onClick:Oe}))}return d.push(v("div",{class:"q-table__control"},k)),d}function Ct(){const d=e.gridHeader===!0?[v("table",{class:"q-table"},[st()])]:e.loading===!0&&l.loading===void 0?He():void 0;return v("div",{class:"q-table__middle"},d)}function $t(){const d=l.item!==void 0?l.item:k=>{const R=k.cols.map(z=>v("div",{class:"q-table__grid-item-row"},[v("div",{class:"q-table__grid-item-title"},[z.label]),v("div",{class:"q-table__grid-item-value"},[z.value])]));if(oe.value===!0){const z=l["body-selection"],Z=z!==void 0?z(k):[v(Qt,{modelValue:k.selected,color:e.color,dark:o.value,dense:e.dense,"onUpdate:modelValue":(X,ye)=>{ae([k.key],[k.row],X,ye)}})];R.unshift(v("div",{class:"q-table__grid-item-row"},Z),v(Gn,{dark:o.value}))}const F={class:["q-table__grid-item-card"+w.value,e.cardClass],style:e.cardStyle};if(e.cardStyleFn!==void 0&&(F.style=[F.style,e.cardStyleFn(k.row)]),e.cardClassFn!==void 0){const z=e.cardClassFn(k.row);z&&(F.class[0]+=` ${z}`)}return(e.onRowClick!==void 0||e.onRowDblclick!==void 0||e.onRowContextmenu!==void 0)&&(F.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(F.onClick=z=>{t("RowClick",z,k.row,k.pageIndex)}),e.onRowDblclick!==void 0&&(F.onDblclick=z=>{t("RowDblclick",z,k.row,k.pageIndex)}),e.onRowContextmenu!==void 0&&(F.onContextmenu=z=>{t("rowContextmenu",z,k.row,k.pageIndex)})),v("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(k.selected===!0?" q-table__grid-item--selected":"")},[v("div",F,R)])};return v("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},J.value.map((k,R)=>d(Ge({key:c.value(k),row:k,pageIndex:R}))))}return Object.assign(a.proxy,{requestServerInteraction:A,setPagination:M,firstPage:Me,prevPage:qe,nextPage:ke,lastPage:Oe,isRowSelected:ce,clearSelection:ge,isRowExpanded:L,setExpanded:N,sort:q,resetVirtualScroll:ze,scrollTo:fe,getCellValue:Se}),kn(a.proxy,{filteredSortedRows:()=>Q.value,computedRows:()=>J.value,computedRowsNumber:()=>he.value}),()=>{const d=[At()],k={ref:h,class:y.value};return e.grid===!0?d.push(Ct()):Object.assign(k,{class:[k.class,e.cardClass],style:e.cardStyle}),d.push(Ce(),wt()),e.loading===!0&&l.loading!==void 0&&d.push(l.loading()),v("div",k,d)}}}),Pl=se({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:l}){const t=f(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>v(e.tag,{class:t.value},Te(l.default))}}),io=se({name:"QCardActions",props:{...fn,vertical:Boolean},setup(e,{slots:l}){const t=vn(e),a=f(()=>`q-card__actions ${t.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>v("div",{class:a.value},Te(l.default))}});function Tl(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const l=parseInt(e,10);return isNaN(l)?0:l}const uo=_n({name:"close-popup",beforeMount(e,{value:l}){const t={depth:Tl(l),handler(a){t.depth!==0&&setTimeout(()=>{const i=ma(e);i!==void 0&&ga(i,a,t.depth)})},handlerKey(a){Bt(a,13)===!0&&t.handler(a)}};e.__qclosepopup=t,e.addEventListener("click",t.handler),e.addEventListener("keyup",t.handlerKey)},updated(e,{value:l,oldValue:t}){l!==t&&(e.__qclosepopup.depth=Tl(l))},beforeUnmount(e){const l=e.__qclosepopup;e.removeEventListener("click",l.handler),e.removeEventListener("keyup",l.handlerKey),delete e.__qclosepopup}}),ro={class:"q-pa-md"},so={class:"row items-center justify-between q-mb-md"},co=["src"],fo={class:"text-h6"},wo=pn({__name:"UserList",setup(e){const l=$([]),t=$(!1),a=$(null),i=$(!1),o=$(""),r=$(""),s=$(""),c=$(""),h=$(null),u=[{name:"avatar",label:"Avatar",field:"avatar",align:"left"},{name:"first_name",label:"Nome",field:"first_name",align:"left"},{name:"last_name",label:"Sobrenome",field:"last_name",align:"left"},{name:"email",label:"E-mail",field:"email",align:"left"},{name:"actions",label:"Aes",field:"actions",align:"right"}];async function S(){t.value=!0;try{const g=await fetch("https://reqres.in/api/users?page=1",{method:"GET",headers:{"x-api-key":"reqres-free-v1","Content-Type":"application/json"}});if(!g.ok)throw new Error("Erro ao carregar usurios");const P=await g.json();l.value=P.data}catch(g){a.value="Erro ao buscar usurios de API.",console.error(g)}finally{t.value=!1}}S().catch(g=>{console.log(g)});function w(){o.value="",r.value="",s.value="",c.value="",h.value=null,i.value=!0}function b(g){o.value=g.first_name,r.value=g.last_name,s.value=g.email,c.value=g.job||"Cargo no informado",h.value=g.id,i.value=!0}async function y(){try{if(h.value){await fetch("https://reqres.in/api/users/2",{method:"PUT",headers:{"x-api-key":"reqres-free-v1","Content-Type":"application/json"},body:JSON.stringify({firstName:o.value,lastName:r.value,email:s.value,job:c.value})});const g=l.value.findIndex(A=>A.id===h.value),P=l.value[g];P&&(P.first_name=o.value,P.last_name=r.value,P.email=s.value,P.job=c.value)}else{const P=await(await fetch("https://reqres.in/api/users",{method:"POST",headers:{"x-api-key":"reqres-free-v1","Content-Type":"application/json"},body:JSON.stringify({firstName:o.value,lastName:r.value,email:s.value,job:c.value})})).json();l.value.push({id:parseInt(P.id)||Math.random(),first_name:o.value,last_name:r.value,email:s.value,avatar:"https://static.vecteezy.com/system/resources/previews/009/292/244/non_2x/default-avatar-icon-of-social-media-user-vector.jpg",job:c.value})}i.value=!1}catch(g){console.error("Erro ao salvar usurio:",g)}}y().catch(g=>{console.log(g)});async function T(g){try{await fetch(`https://reqres.in/api/users/${g}`,{method:"DELETE",headers:{"x-api-key":"reqres-free-v1","Content-Type":"application/json"}}),l.value=l.value.filter(P=>P.id!==g)}catch(P){console.error("Erro ao excluir usurio:",P)}}return(g,P)=>(Pn(),Vn("div",ro,[xt("div",so,[P[5]||(P[5]=xt("h2",{class:"text-h5"},"Usurios",-1)),re(Fe,{label:"Novo Usurio",color:"primary",icon:"add",onClick:w})]),re(oo,{title:"Lista de Usurios",rows:l.value,columns:u,"row-key":"id",flat:"",bordered:"",loading:t.value},{"body-cell-avatar":Be(A=>[re(gl,{props:A},{default:Be(()=>[xt("img",{src:A.row.avatar,alt:"avatar",class:"q-avatar",style:{width:"32px",height:"32px","border-radius":"50%"}},null,8,co)]),_:2},1032,["props"])]),"body-cell-actions":Be(A=>[re(gl,{props:A},{default:Be(()=>[re(Fe,{dense:"",flat:"",icon:"edit",color:"primary",onClick:M=>b(A.row)},null,8,["onClick"]),re(Fe,{dense:"",flat:"",icon:"delete",color:"negative",onClick:M=>T(A.row.id)},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","loading"]),re(an,{modelValue:i.value,"onUpdate:modelValue":P[4]||(P[4]=A=>i.value=A)},{default:Be(()=>[re(Wn,{style:{"min-width":"300px"}},{default:Be(()=>[re(Pl,null,{default:Be(()=>[xt("div",fo,Tn(h.value?"Editar Usurio":"Novo Usurio"),1)]),_:1}),re(Pl,null,{default:Be(()=>[re(qt,{modelValue:o.value,"onUpdate:modelValue":P[0]||(P[0]=A=>o.value=A),label:"Nome"},null,8,["modelValue"]),re(qt,{modelValue:r.value,"onUpdate:modelValue":P[1]||(P[1]=A=>r.value=A),label:"Sobrenome"},null,8,["modelValue"]),re(qt,{modelValue:s.value,"onUpdate:modelValue":P[2]||(P[2]=A=>s.value=A),label:"E-mail"},null,8,["modelValue"]),re(qt,{modelValue:c.value,"onUpdate:modelValue":P[3]||(P[3]=A=>c.value=A),label:"Cargo"},null,8,["modelValue"])]),_:1}),re(io,{align:"right"},{default:Be(()=>[En(re(Fe,{flat:"",label:"Cancelar"},null,512),[[uo]]),re(Fe,{flat:"",label:"Salvar",color:"primary",onClick:y})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}});export{wo as default};
