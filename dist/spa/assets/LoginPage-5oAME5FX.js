import{Q as i}from"./QInput-B-5MRCXU.js";import{a as m}from"./QBtn-BSvwgkTl.js";import{P as c}from"./Cookies-BuD0LNIP.js";import{$ as f,y as n,a8 as h,ad as u,a4 as s,a1 as v,a7 as g}from"./index-_EMjIBLd.js";import"./use-dark-DV050NTM.js";import"./render-B7E4dgpy.js";const y={class:"fullscreen bg-grey-2 flex flex-center"},w={class:"q-pa-lg q-gutter-md shadow-2 rounded-borders bg-white",style:{width:"100%","max-width":"400px"}},q=f({__name:"LoginPage",setup(x){const d=g(),o=n(""),t=n(""),l=n(null);async function p(){if(l.value=null,!o.value||!t.value){l.value="Preencha os campos abaixo!";return}try{const a=await fetch("https://reqres.in/api/login",{method:"POST",headers:{"x-api-key":"reqres-free-v1","Content-Type":"application/json"},body:JSON.stringify({email:o.value,password:t.value})});if(!a.ok)throw new Error("Login invÃ¡lido");const e=await a.json();c.set("token",e.token),await d.push("/")}catch(a){l.value="E-mail ou senha incorreto!",console.error(a)}}return(a,e)=>(v(),h("div",y,[u("div",w,[e[2]||(e[2]=u("h1",{class:"text-h5 text-center text-weight-bolder text-primary",color:"blue"},"Login",-1)),s(i,{filled:"",modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=r=>o.value=r),type:"email",label:"E-mail"},null,8,["modelValue"]),s(i,{filled:"",modelValue:t.value,"onUpdate:modelValue":e[1]||(e[1]=r=>t.value=r),type:"password",label:"Senha"},null,8,["modelValue"]),s(m,{label:"Entrar",color:"primary",style:{width:"340px"},onClick:p})])]))}});export{q as default};
